/*! othello 2016-02-04 */
function onMouseMove(a){a.preventDefault(),mouse.x=a.clientX/window.innerWidth*2-1,mouse.y=2*-(a.clientY/window.innerHeight)+1}function test(){console.log(scene.getObjectById(1))}function toggleFullScreen(a,b){var c=window.document,d=c.documentElement,e=d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullScreen||d.msRequestFullscreen,f=c.exitFullscreen||c.mozCancelFullScreen||c.webkitExitFullscreen||c.msExitFullscreen;c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement||c.msFullscreenElement?(b&&b(),f.call(c)):(e.call(d),a&&a())}function refreshCube(){cube&&scene.remove(cube),geometry=new THREE.BoxGeometry(1,1,1),material=new THREE.MeshLambertMaterial({color:16773077}),cube=new THREE.Mesh(geometry,material),cube.addEventListener("click",function(){console.log("click")}),scene.add(cube)}function render(){isPaused||(cube.rotation.x+=.01,cube.rotation.y+=.01),raycaster.setFromCamera(mouse,camera);var a=raycaster.intersectObjects(scene.children);a.length>0?(document.body.style.cursor="pointer",INTERSECTED!=a[0].object&&(INTERSECTED&&INTERSECTED.material.emissive.setHex(INTERSECTED.currentHex),INTERSECTED=a[0].object,INTERSECTED.currentHex=INTERSECTED.material.emissive.getHex(),INTERSECTED.material.emissive.setHex(16711680))):(document.body.style.cursor="crosshair",INTERSECTED&&INTERSECTED.material.emissive.setHex(INTERSECTED.currentHex),INTERSECTED=null),renderer.render(scene,camera),animationID=requestAnimationFrame(render)}var scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),light=new THREE.PointLight(16777215,8,100);light.position.set(50,50,50),scene.add(light);var renderer=new THREE.WebGLRenderer;renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),camera.position.z=5,window.onresize=function(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),isPaused=!0,setTimeout(function(){isPaused=!1},400)};var raycaster=new THREE.Raycaster,mouse=new THREE.Vector2,INTERSECTED;window.addEventListener("mousemove",onMouseMove,!1),document.getElementById("goFS").addEventListener("click",function(){toggleFullScreen()}),document.getElementById("test").addEventListener("click",function(){test()});var animationID,isPaused,geometry,material,cube;refreshCube(),render();